### 도커 관련 명령어

* Dockerfile을 통한 이미지 생성
  * docker build -t 이미지이름 .
  * ex) docker build -t [이미지이름]:1.0(태그명, 안붙이면 latest) .
* 이미지를 통한 컨테이너 실행
  * docker run --name 컨테이너이름 이미지이름
  * -P : 호스트의 빈 포트를 컨테이너에 EXPOSE된 포트로 매핑
* 외부 이미지를 통한 컨테이너 실행
  * ex) MySQL 이미지를 이용한 데이터베이스 컨테이너 실행방법
    * docker run -d --name [이름A] -e MYSQL_ROOT_PASSWORD=ppasswd -e MYSQL_DATABASE=wordpress mysql:5.7
  * ex)워드프레스 이미지를 이용한 웹 서버 컨테이너 생성
    * docker run -d  -e WORDPRESS_DB_PASSWORD=passwd --name [이름]  --link [이름A]:mysql -p 80 wordpress
* 모든 컨테이너와 이미지를 삭제
  * docker container stop $(docker container ps -aq)
  * docker container rm -f $(docker container ls -aq)
    * 컨테이너 삭제
  * docker image rm -f $(docker images -aq)
    * 이미지 삭제
  * docker container prune
  * docker image prune
    * 모든 컨테이너와 이미지 제거
* ETC
  * 쉘 스크립트의 $#: 파라미터의 개수
  * 쉘 스크립트의 $1: 파라미터의 첫번째 인자
  * docker run의 -e: -e는 환경변수를 설정 또는 변경시켜준다.
  * 이미지 파일의 이름 변경
    * docker image tag [이미지이름] [새이미지이름] 
  * 컨테이너의 데이터 복사
    * docker container cp  CONTAINER_ID_or_NAME:CONTAINER_FILE_PATH HOST_FILE_PATH 
    * ex) docker container cp [컨테이너이름]:/var/www/html/index.html .
    * ex) docker container cp ./index.html [컨테이너이름]:/var/www/html/
  * docker run 의 예
    * docker run -d -P --name [컨테이너이름] [이미지이름]
* Dockerfile의 명령어
  * ADD, COPY : 호스트의 파일 또는 디렉터리를 이미지 내부로 복사
  * WORKDIR : 명령어의 실행 위치를 지정, cd 명령어와 동일
  * [] : JSON 배열 형식 → 쉘을 실행하지 않음을 의미
  * EXPOSE : 이미지에서 노출할 포트를 설정
  * CMD : 컨테이너가 실행될 때마다 실행할 명령어 (반드시 한번만 사용 가능)

